# Chapter 10. 모르면 답답해지는 네트워크 기초

## 0. 왜 우리는 네트워크를 알아야하는가?
> **최범균님(책의 저자)의 경험**
> 
> *문제*
> - 외부 업체 제공 API와 연결이 되지 않음
>
> *문제 해결을 위한 원인 분석*
> - 1) 해당 API 주소 유효성 확인 : 문제 없음
> - 2) 방화벽 Outbound 설정 확인 : 문제 없음
> - 3) API 제공 측의 Inbound 정책 확인 : 문제 없음
>
> *해당 문제의 실제 원인*
> - 외부 API 와의 통신하는 서버는 2개의 공인 IP 와 연결된 상태였음 : '외부->서버' & '서버->외부'
> - 외부 업체 제공 API 연결을 위해선 '서버->외부' 연결에 사용되는 공인 IP 를 공유해야 함.
> - 그러나 착오로 인해 '외부->서버' 연결에 사용되는 공인 IP를 공유한 것.
>
> *결론*
> - 네트워크를 제대로 이해하지 못한다면 문제 해결에 필요 이상의 시간과 노력이 투입되는 상황이 연출될 수 있다.
> - 따라서 잘 알아야한다!

## 1. 노드, 네트워크, 라우터

네트워크(여기서는 컴퓨터 네트워크만을 지칭한다.) 는 '장치'와 '연결'로 구성된다는 점에서 그래프와 구조적 공통점을 가진다.
그렇기 때문인지, 네트워크의 굵직한 두 가지 구성요소 중 '장치'를 다음과 같이 명명하고 지칭한다. 

**노드(Node)**
- 네트워크를 이루는 개별 단말 혹은 장치를 의미. (라우터도 노드에 속한다고 볼 수 있다.)
- 그래프에서의 '정점' 개념과 대응한다.
- 노드 중에서도 '클라이언트-서버 연결 모델'에 참여하는 주체(장치 혹은 시스템)를 호스트(Host) 라고 한다.
[출처](https://en.wikipedia.org/wiki/Host_(network)#:~:text=Network%20hosts%20that%20participate%20in%20applications%20that%20use%20the%20client%E2%80%93server%20model%20of%20computing%20are%20classified%20as%20server%20or%20client%20systems.%20Network%20hosts%20may%20also%20function%20as%20nodes%20in%20peer%2Dto%2Dpeer%20applications%2C%20in%20which%20all%20nodes%20share%20and%20consume%20resources%20in%20an%20equipotent%20manner.)

그리고 이러한 노드 간 연결이 이루어질 때, 이들은 하나의 *네트워크(Network)* 를 이루게 된다.
그렇게 연결된 노드들은 서로 *패킷(Packet)* 이라는 형태로 표현된 데이터를 하나의 단위로 삼아 서로 정보를 교환한다.

서로 다른 네트워크에 속한 노드들은 어떻게 통신할까?
이를 가능하게 하는 것이 *라우터(Router)*이다.

> **라우터(Router)**
>
> - 서로 다른 네트워크 간 패킷 전송 역할을 수행. 즉, 데이터 전송이 가능하도록 '전송 경로'를 결정하는 역할을 하는 친구.
> - 조금 더 지엽적으로, IP 주소를 기준으로 목적지를 특정하고 경로를 결정하는 L3 계층에서 작동하는 주체를 라우터라고 한다.

두 노드 간 연결이 가능하게 하는 다양한 라우터 이동 경로가 존재한다.
이를 위해 각 라우터는 목적지 노드의 '주소'에 따라 알맞은 다음 라우터를 서택해 데이터를 전송한다.

> **OSI 7 Layer 분류에 따른 계층별 데이터 전송 단위**
> 
> <img width="518" height="311" alt="Screenshot 2025-07-27 at 6 44 07 PM" src="https://github.com/user-attachments/assets/62a84afb-730b-4d2a-a03e-452df12aa9fd" />


